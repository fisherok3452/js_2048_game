{"version":3,"sources":["scripts/main.js"],"names":["startBtn","document","querySelector","gameBoard","querySelectorAll","score","messageStart","messageWin","messageLose","scoreCounter","hasButtonBeenClicked","stopGame","field","randomTile","randomNumber","Math","floor","random","fieldWithoutZero","every","n","classList","add","innerHTML","checkAdjacentFields","start","addEventListener","location","reload","remove","move","merge","id","i","cell","diff","operation","parseInt","toString","winGame","replaceTile","handleArrowUpEvent","length","handleArrowDownEvent","int","handleArrowLeftEvent","handleArrowRightEvent","event","code","isLeftEdge","isRightEdge"],"mappings":"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","file":"main.20f41dee.js","sourceRoot":"../src","sourcesContent":["/* eslint-disable no-shadow */\n/* eslint-disable max-len */\n'use strict';\n\nconst startBtn = document.querySelector('.start');\nconst gameBoard = document.querySelectorAll('.field-cell');\nconst score = document.querySelector('.game-score');\nconst messageStart = document.querySelector('.message-start');\nconst messageWin = document.querySelector('.message-win');\nconst messageLose = document.querySelector('.message-lose');\n\nlet scoreCounter = 0;\nlet hasButtonBeenClicked = false;\nlet stopGame = false;\n\nconst field = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nfunction randomTile() {\n  const randomNumber = Math.floor(Math.random() * 16);\n\n  const fieldWithoutZero = field.every(n => n !== 0);\n\n  if (fieldWithoutZero) {\n    return;\n  }\n\n  if (field[randomNumber] !== 0) {\n    return randomTile();\n  }\n\n  field[randomNumber] = Math.random() < 0.1 ? 4 : 2;\n\n  gameBoard[randomNumber].classList.add(`field-cell--${field[randomNumber]}`);\n  gameBoard[randomNumber].innerHTML = field[randomNumber];\n\n  checkAdjacentFields();\n}\n\nfunction start() {\n  startBtn.addEventListener('click', () => {\n    if (hasButtonBeenClicked) {\n      location.reload();\n    } else {\n      hasButtonBeenClicked = true;\n      messageStart.classList.add('hidden');\n      startBtn.classList.remove('start');\n      startBtn.classList.add('restart');\n      startBtn.innerHTML = 'Restart';\n      randomTile();\n      randomTile();\n      move();\n    }\n  });\n}\n\nfunction merge(id, i, cell, diff) {\n  let operation;\n\n  if (diff === 'subtraction') {\n    operation = id - i;\n  }\n\n  if (diff === 'add') {\n    operation = id + i;\n  }\n\n  gameBoard[operation].classList.add(`field-cell--${parseInt(cell.innerHTML) * 2}`);\n  gameBoard[operation].classList.remove(`field-cell--${parseInt(cell.innerHTML)}`);\n  gameBoard[operation].innerHTML = parseInt(cell.innerHTML) * 2;\n  cell.classList.remove(`field-cell--${cell.innerHTML}`);\n  cell.innerHTML = '';\n\n  field[id] = 0;\n  field[operation] = parseInt(gameBoard[operation].innerHTML);\n\n  scoreCounter += parseInt(gameBoard[operation].innerHTML);\n  score.innerHTML = scoreCounter.toString();\n\n  winGame();\n}\n\nfunction replaceTile(id, i, cell, diff) {\n  let operation;\n\n  if (diff === 'subtraction') {\n    operation = id - i;\n  }\n\n  if (diff === 'add') {\n    operation = id + i;\n  }\n\n  field[id] = 0;\n  field[operation] = parseInt(cell.innerHTML);\n  gameBoard[operation].classList.add(`field-cell--${cell.innerHTML}`);\n  gameBoard[operation].innerHTML = cell.innerHTML;\n  cell.classList.remove(`field-cell--${cell.innerHTML}`);\n  cell.innerHTML = '';\n}\n\nfunction handleArrowUpEvent() {\n  for (let id = 0; id < gameBoard.length; id++) {\n    if (field[id] !== 0 && id > 3) {\n      for (let i = 12; i > 0; i -= 4) {\n        if (field[id - i] === 0) {\n          replaceTile(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n\n        if (\n          (i === 4 && field[id - i] === field[id])\n          || (i === 8 && field[id - i] === field[id] && field[id - i + 4] === 0)\n          || (i === 12 && field[id - i] === field[id] && field[id - i + 4] === 0 && field[id - i + 8] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n      }\n    }\n  }\n};\n\nfunction handleArrowDownEvent() {\n  for (let int = gameBoard.length - 1; int >= 0; int--) {\n    const id = int;\n\n    if (field[id] !== 0 && id < 12) {\n      for (let i = 12; i > 0; i -= 4) {\n        if (field[id + i] === 0) {\n          replaceTile(id, i, gameBoard[int], 'add');\n          break;\n        }\n\n        if (\n          (i === 4 && field[id + i] === field[id])\n          || (i === 8 && field[id + i] === field[id] && field[id + i - 4] === 0)\n          || (i === 12 && field[id + i] === field[id] && field[id + i - 4] === 0 && field[id + i - 8] === 0)\n        ) {\n          merge(id, i, gameBoard[int], 'add');\n          break;\n        }\n      }\n    }\n  }\n};\n\nfunction handleArrowLeftEvent() {\n  for (let id = 0; id < gameBoard.length; id++) {\n    if (field[id] !== 0 && id < 16 && id > 12) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id - i] === 0 && (id - i) >= 12) {\n          replaceTile(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n\n        if ((i === 1 && field[id - i] === field[id])\n        || (i === 2 && field[id - i] === field[id] && field[id - i + 1] === 0)\n        || (i === 3 && field[id - i] === field[id] && field[id - i + 1] === 0 && field[id - i + 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n      }\n    }\n\n    if (field[id] !== 0 && id < 12 && id > 8) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id - i] === 0 && (id - i) >= 8) {\n          replaceTile(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n\n        if ((i === 1 && field[id - i] === field[id])\n        || (i === 2 && field[id - i] === field[id] && field[id - i + 1] === 0)\n        || (i === 3 && field[id - i] === field[id] && field[id - i + 1] === 0 && field[id - i + 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n      }\n    }\n\n    if (field[id] !== 0 && id < 8 && id > 4) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id - i] === 0 && (id - i) >= 4) {\n          replaceTile(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n\n        if ((i === 1 && field[id - i] === field[id])\n        || (i === 2 && field[id - i] === field[id] && field[id - i + 1] === 0)\n        || (i === 3 && field[id - i] === field[id] && field[id - i + 1] === 0 && field[id - i + 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n      }\n    }\n\n    if (field[id] !== 0 && id < 4 && id > 0) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id - i] === 0) {\n          replaceTile(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n\n        if ((i === 1 && field[id - i] === field[id])\n        || (i === 2 && field[id - i] === field[id] && field[id - i + 1] === 0)\n        || (i === 3 && field[id - i] === field[id] && field[id - i + 1] === 0 && field[id - i + 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'subtraction');\n          break;\n        }\n      }\n    }\n  }\n};\n\nfunction handleArrowRightEvent() {\n  for (let id = gameBoard.length - 1; id >= 0; id--) {\n    if (field[id] !== 0 && id < 15 && id > 11) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id + i] === 0) {\n          replaceTile(id, i, gameBoard[id], 'add');\n          break;\n        }\n\n        if ((i === 1 && field[id + i] === field[id])\n        || (i === 2 && field[id + i] === field[id] && field[id + i - 1] === 0)\n        || (i === 3 && field[id + i] === field[id] && field[id + i - 1] === 0 && field[id + i - 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'add');\n          break;\n        }\n      }\n    }\n\n    if (field[id] !== 0 && id < 11 && id > 7) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id + i] === 0 && (id + i) <= 11) {\n          replaceTile(id, i, gameBoard[id], 'add');\n          break;\n        }\n\n        if ((i === 1 && field[id + i] === field[id])\n        || (i === 2 && field[id + i] === field[id] && field[id + i - 1] === 0)\n        || (i === 3 && field[id + i] === field[id] && field[id + i - 1] === 0 && field[id + i - 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'add');\n          break;\n        }\n      }\n    }\n\n    if (field[id] !== 0 && id < 7 && id > 3) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id + i] === 0 && (id + i) <= 7) {\n          replaceTile(id, i, gameBoard[id], 'add');\n          break;\n        }\n\n        if ((i === 1 && field[id + i] === field[id])\n        || (i === 2 && field[id + i] === field[id] && field[id + i - 1] === 0)\n        || (i === 3 && field[id + i] === field[id] && field[id + i - 1] === 0 && field[id + i - 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'add');\n          break;\n        }\n      }\n    }\n\n    if (field[id] !== 0 && id < 3 && id >= 0) {\n      for (let i = 3; i > 0; i--) {\n        if (field[id + i] === 0 && (id + i) <= 3) {\n          replaceTile(id, i, gameBoard[id], 'add');\n          break;\n        }\n\n        if ((i === 1 && field[id + i] === field[id])\n        || (i === 2 && field[id + i] === field[id] && field[id + i - 1] === 0)\n        || (i === 3 && field[id + i] === field[id] && field[id + i - 1] === 0 && field[id + i - 2] === 0)\n        ) {\n          merge(id, i, gameBoard[id], 'add');\n          break;\n        }\n      }\n    }\n  }\n};\n\nfunction move() {\n  document.addEventListener('keydown', function(event) {\n    if (event.code === 'ArrowUp' && !stopGame) {\n      handleArrowUpEvent();\n      randomTile();\n    } else if (event.code === 'ArrowDown' && !stopGame) {\n      handleArrowDownEvent();\n      randomTile();\n    } else if (event.code === 'ArrowLeft' && !stopGame) {\n      handleArrowLeftEvent();\n      randomTile();\n    } else if (event.code === 'ArrowRight' && !stopGame) {\n      handleArrowRightEvent();\n      randomTile();\n    }\n  });\n};\n\nfunction winGame() {\n  for (const i of field) {\n    if (i === 2048) {\n      messageWin.classList.remove('hidden');\n\n      stopGame = true;\n    }\n  }\n}\n\nfunction checkAdjacentFields() {\n  for (let i = 0; i < 16; i++) {\n    const isLeftEdge = i % 4 === 0;\n    const isRightEdge = (i + 1) % 4 === 0;\n\n    if (\n      (i < 4 && !isRightEdge && field[i] === field[i + 1])\n      || (i < 12 && !isRightEdge && field[i] === field[i + 1])\n      || (i >= 4 && i < 8 && !isLeftEdge && field[i] === field[i - 1])\n      || (i >= 8 && i < 12 && !isLeftEdge && field[i] === field[i - 1])\n      || (i < 12 && field[i] === field[i + 4])\n      || (i >= 4 && field[i] === field[i - 4])\n      || (i >= 12 && !isLeftEdge && field[i] === field[i - 1])\n      || (i >= 12 && !isRightEdge && field[i] === field[i + 1])\n    ) {\n      // console.log('keep play');\n      return true;\n    }\n\n    if (\n      ((i === 0 || i === 4 || i === 8 || i === 12)\n        && (((i + 4) % 4 === 0 && field[i] === field[i + 4])\n          || ((i - 4) % 4 === 0 && field[i] === field[i - 4])))\n\n        || ((i === 1 || i === 5 || i === 9 || i === 13)\n          && (((i + 4 === 5 || i + 4 === 9 || i + 4 === 13) && field[i] === field[i + 4])\n            || ((i - 4 === 9 || i - 4 === 5 || i - 4 === 1) && field[i] === field[i - 4])))\n\n        || ((i === 2 || i === 6 || i === 10 || i === 14)\n          && (((i + 4 === 6 || i + 4 === 10 || i + 4 === 14) && field[i] === field[i + 4])\n            || ((i - 4 === 10 || i - 4 === 6 || i - 4 === 2) && field[i] === field[i - 4])))\n\n        || ((i === 3 || i === 7 || i === 11 || i === 15)\n          && (((i + 4 === 7 || i + 4 === 11 || i + 4 === 15) && field[i] === field[i + 4])\n            || ((i - 4 === 11 || i - 4 === 7 || i - 4 === 3) && field[i] === field[i - 4])))\n    ) {\n      // console.log('keep play');\n      return true;\n    }\n  }\n\n  const copyField = [...field];\n\n  const fieldWithoutZero = copyField.every(n => n !== 0);\n\n  if (fieldWithoutZero) {\n    messageLose.classList.remove('hidden');\n\n    return (false);\n  }\n}\n\nstart();\n"]}